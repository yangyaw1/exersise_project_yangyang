<form #formRef = 'ngForm'>
<div class = 'container'>
<div class = 'form-group'>
    <label for = 'testName'>Test name</label>
    <input type = 'text' name = 'name' class = 'form-control' 
        [(ngModel)] = 'newtest.name'
        required placeholder="Please enter test name">
</div>
<div class = 'form-group'>
    <label for = 'testSubject'>Subject</label>
    <select name = "subject" class = 'form-control' 
        [(ngModel)] = 'newtest.subject'>
        <option *ngFor = 'let subject of subjects' [value] = 'subject'>
            {{subject}}
        </option>
    </select>
</div>
<div class = 'form-group'>
    <label for = 'Questions'>Questions</label>
    <div class = 'form-group'>
        <label for = 'testSubject'>Number of questions</label>
        <select name = "numberofquestion" class = 'form-control' 
            [(ngModel)] = 'numberofquestion' (change) = 'questions_init()'>
            <option *ngFor = "let dummy of [].constructor(10); let i = index"  [value] = 'i'>
                {{i}}
            </option>
        </select>
    </div>
    <div class = 'list-group' *ngFor = "let question of newtest.body; let j = index">
        <label for = "{{'question' +j.toString}}"> Question {{j+1}}</label>
            <div class = 'form-group'>
                 <label for = "{{'question' +j.toString+'des'}}">Qusetion description</label>
                 <input type = 'text' name = "{{'question' +j.toString()+'name'}}" class = 'form-control' 
                 [(ngModel)] = 'newtest.body[j].des'
                 required placeholder="Please enter description of question {{j+1}}">
            </div>
            <div class = 'form-group'>
                 <label for = "{{'question' +j.toString()+'numchioce'}}">Number of chioces</label>
                 <select name = "{{'chioces of question' + j.toString()}}" class = 'form-control' 
                      [(ngModel)] = 'numberofchioce[j]' (change) = 'chioce_init(j)'>
                      <option *ngFor = "let dummy of [].constructor(5); let k = index"  [value] = 'k'>
                          {{k}}
                      </option>
                 </select>
                 <!--<div> chioces of question {{j}}: {{numberofchioce[j]}}</div>-->
                 <div class = 'list-group' *ngFor = 'let dummy of newtest.body[j].chioces; let q = index'>
                      <label for = "{{'question'+j.toString()+'chioce'+q.toString()}}">chioce {{q+1}} construction </label>
                      <input type = 'text' name = "{{'question'+j.toString()+'chioce'+q.toString()}}" class = 'form-control' 
                      [(ngModel)] = 'newtest.body[j].chioces[q].value'
                      required placeholder="Please enter chioce {{q+1}} of question {{j+1}}">
                      <div>
                         <input type = 'radio' name = "{{'question'+j.toString()+'solu'}}" class = 'btn' 
                         [(ngModel)] = 'newtest.body[j].solu.value' [value]="q"> Chioce {{q+1}} is the answer!
                      </div>
                 </div>
                 <!--<div> solu for {{j}} is {{newtest.body[j].solu.value}} </div>-->
            </div>
    </div>
</div>
<div class = 'row'>
        <div class = 'col-md-12'>
            <button type = 'submit' class='btn btn-primary pull-right'
                    (click) = 'addtest()'> submit test!  </button>
        </div>
</div>
</div>
</form>
<br/>
<br/>